Description: fix heap overflow via incorrect isolateCount
Origin: backport, http://bugs.icu-project.org/trac/changeset/37162

Index: icu-52.1/source/common/ubidi.c
===================================================================
--- icu-52.1.orig/source/common/ubidi.c	2013-10-04 16:49:28.000000000 -0400
+++ icu-52.1/source/common/ubidi.c	2015-05-08 08:19:47.924746439 -0400
@@ -2049,7 +2049,7 @@
     /* The isolates[] entries contain enough information to
        resume the bidi algorithm in the same state as it was
        when it was interrupted by an isolate sequence. */
-    if(dirProps[start]==PDI) {
+    if(dirProps[start]==PDI  && pBiDi->isolateCount >= 0) {
         start1=pBiDi->isolates[pBiDi->isolateCount].start1;
         stateImp=pBiDi->isolates[pBiDi->isolateCount].stateImp;
         levState.state=pBiDi->isolates[pBiDi->isolateCount].state;
